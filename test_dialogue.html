<html>
<body onload="execute_game()">
<p id="text">Text</p>
</body>


<script>
  var story = [
    { m: "Hi!" },
    { m: "This is my new game." },
    { question: "Do you like it?", answers: [
      { m: "yes", next: "like_yes" },
      { m: "no", next: "like_no" },
    ] },
    { label: "like_yes", m: "I am happy you like my game!", next: "like_end" },
    { label: "like_no", m: "You made me sad!", next: "like_end" },
    { label: "like_end" },
    { m: "OK, let's change the topic" }
  ];

  function execute_game() {
  var current_line = 0;
  while (current_line < story.length) {
    var current_step = story[current_line];
    console.log(current_step.m)

      display_message(current_step.m);
    //
    // if (undefined !== current_step.m) {
    //
    //   display_message(current_step.m);
    //   if (undefined !== current_step.next) {
    //     current_line = find_label(current_step.next);
    //   } else {
    //     current_line = current_line + 1;
    //   }

    // } else if (undefined !== current_step.question) {
    //
    //   // display the question: current_step.question
    //   // display the answers: current_step.answers
    //   // choose an answer
    //   // and change current_line accordingly
    //
  //   }
  }
}

function display_message(message) {
  el = document.getElementById("text")
  el.innerHTML = message
}

function find_label(array, name) {
  array.find(function(name){

  })
}

</script>
</html>
